<!DOCTYPE html>
<html>
<head>
    <title>Year To Year Relative Growth Map</title>
    <meta charset="UTF-8">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

        body { font-family: 'Inter', sans-serif; margin:0; padding:0; background:#eef2f6; }
        .container { max-width:1400px; margin:40px auto; border-radius:12px; overflow:hidden; box-shadow:0 10px 30px rgba(0,0,0,0.1); }
        .header-bar { background:#4a4e69; color:white; padding:30px 0; text-align:center; }
        .header-bar h1 { margin:0; font-size:2.5em; font-weight:700; }
        .header-bar p { margin:8px 0 0 0; font-size:1.2em; opacity:0.9; }

        .controls-area { background:white; padding:10px 30px; display:flex; align-items:center; gap:20px; border-bottom:1px solid #ddd; }
        .filter-label { font-weight:600; color:#2c3e50; flex-shrink:0; font-size:1.1em; }

        /* Force dropdown inline */
        #filter-controls { display:inline-flex !important; align-items:center !important; margin:0 !important; padding:0 !important; width:100%; }
        #filter-controls select { padding:10px 15px; border:2px solid #bdc3c7; border-radius:8px; background:white; font-size:1em; cursor:pointer; }
        #filter-controls select:hover { border-color:#95a5a6; }
        #filter-controls select:focus { border-color:#6a5acd; box-shadow:0 0 0 3px rgba(106,90,205,0.2); outline:none; }

        .vis-area { background:white; min-height:1100px; display:flex; flex-direction:column; align-items:center; }
        #vis { display:block; padding:30px; margin:0; width:100%; }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
    <div class="container">
        <div class="header-bar">
            <h1>Year To Year Relative Growth Map</h1>
            <p>2D visualization of topic growth based on t-SNE coordinates</p>
        </div>
        
        <div class="vis-area">
            <div class="controls-area">
                <span class="filter-label">Filter Topic:</span>
                <div id="filter-controls"></div> <!-- Dropdown injected here -->
            </div>
            <div id="vis"></div> <!-- Chart injected here -->
        </div>
    </div>

    <!-- Chart script placeholder -->
    
    <script>
      var spec = {
  "$schema": "https://vega.github.io/schema/vega-lite/v6.1.0.json",
  "config": {
    "view": {
      "continuousHeight": 300,
      "continuousWidth": 300
    }
  },
  "data": {
    "url": "https://media.githubusercontent.com/media/sahana-sarangi/relative-growth-rendering/refs/heads/main/final_combined_data.csv"
  },
  "encoding": {
    "color": {
      "field": "RelativeGrowthRate",
      "legend": {
        "format": ".0%",
        "orient": "right"
      },
      "scale": {
        "domain": [
          -0.2,
          0.04,
          0.06,
          0.4
        ],
        "range": [
          "#4575B4",
          "#FFFFBF",
          "#FFFFBF",
          "#D73027"
        ]
      },
      "title": "Avg Year to Year Growth (% per year)",
      "type": "quantitative"
    },
    "opacity": {
      "condition": {
        "param": "Select",
        "value": 1.0
      },
      "value": 0.1
    },
    "tooltip": [
      {
        "field": "AbstractTitle",
        "title": "Abstract Title",
        "type": "nominal"
      },
      {
        "field": "TopicName",
        "title": "Topic Name",
        "type": "nominal"
      },
      {
        "field": "RelativeGrowthRate",
        "format": ".2%",
        "title": "Avg. Year-to-Year Growth",
        "type": "quantitative"
      },
      {
        "field": "Year",
        "title": "Year",
        "type": "quantitative"
      }
    ],
    "x": {
      "field": "TSNE-x",
      "scale": {
        "domain": [
          -90,
          90
        ]
      },
      "title": "t-SNE x",
      "type": "quantitative"
    },
    "y": {
      "field": "TSNE-y",
      "scale": {
        "domain": [
          -90,
          90
        ]
      },
      "title": "t-SNE y",
      "type": "quantitative"
    }
  },
  "height": 1000,
  "mark": {
    "size": 25,
    "type": "circle"
  },
  "params": [
    {
      "bind": "scales",
      "name": "param_1e9efca18e7a2868",
      "select": {
        "encodings": [
          "x",
          "y"
        ],
        "type": "interval"
      }
    },
    {
      "bind": {
        "input": "select",
        "labels": [
          "All Topics",
          "Academic Radiation Oncology Training and Equity...",
          "Acute Pain Management and Opioid Use in Cancer ...",
          "Advanced MRI Radiomics for Brain Metastases",
          "Advanced Nasopharyngeal Carcinoma Treatment Inn...",
          "Advanced Radiation Therapies in Lung Cancer",
          "Advanced Techniques in Cervical Cancer Brachyth...",
          "Advanced Techniques in Pancreatic Cancer Radiot...",
          "Advanced Techniques in Prostate Cancer Radiothe...",
          "Advanced Techniques in Proton Therapy.",
          "Advanced Techniques in Radiation Oncology",
          "Advanced Therapeutic Strategies in Glioblastoma...",
          "Advanced Therapies in Oropharyngeal Cancer",
          "Advanced Treatment Strategies for Esophageal Ca...",
          "Advanced Treatment Strategies in Gynecologic On...",
          "Bladder Cancer Radiation Therapy Advancements",
          "Breast Cancer Radiotherapy Innovations",
          "Breast Cancer Radiotherapy-Induced Skin Toxicit...",
          "Breast Tumor Contouring Excellence Workshop",
          "Bridging Radiotherapy for CAR-T Therapy in Aggr...",
          "Cancer Disparities in Health Outcomes",
          "Cardiac Radioablation for Ventricular Tachycardia",
          "Cardiac Toxicity in Radiation Oncology",
          "Cell-Free DNA Fragmentomics for Early Detection...",
          "Cutaneous Skin Cancer Radiotherapy Innovations",
          "Deep Learning Applications in Radiation Oncology",
          "Dose Rate Effects in Spatially Fractionated Rad...",
          "Dosimetric Impact of Rectal Spacers in Prostate...",
          "Financial Implications of Radiation Oncology Tr...",
          "Global Radiotherapy Access Disparities",
          "HPV-Driven Innovations in Radiation Oncology",
          "Hepatocellular Carcinoma Radiotherapy Innovations",
          "Hippocampal Avoidance Strategies in Brain Radio...",
          "Immunomodulatory Effects of Radiotherapy in Bre...",
          "Immunomodulatory Effects of Tumor Treating Fiel...",
          "Intratumoral Nerve Recruitment and Perineural I...",
          "Lymphedema Risk in Breast Cancer Radiotherapy",
          "Nanoparticle-Mediated Radiodynamic Therapy",
          "Neoadjuvant Strategies in Rectal Cancer.",
          "Patient Portal Messaging Trends in Radiation On...",
          "Patient-Centered Innovations in Radiation Oncology",
          "Pediatric Brain Metastases Stereotactic Radiosu...",
          "Pediatric Proton Therapy Outcomes",
          "Pediatric Unilateral Retinoblastoma Treatment O...",
          "Predictive Biomarkers in Radiation Oncology",
          "Predictive Radiomics for Lung Cancer Radiotherapy",
          "Predictive Radiomics in Radiation Oncology",
          "Proton Therapy Trial Diversity",
          "Radiation Oncology Quality Improvement and Safe...",
          "Radiation-Induced Cancer Therapy Innovations",
          "Radiation-Induced Cardiac Injury Mechanisms and...",
          "Radiation-Induced Lymphopenia Predictors in Bre...",
          "Renal Cell Carcinoma Stereotactic Innovations",
          "Spine Stereotactic Radiosurgery Outcomes",
          "Thyroid Cancer Radiotherapy Innovations",
          "Total Body Irradiation-Related Hematologic Toxi...",
          "Tumor Treating Fields (TTFields) Optimization i..."
        ],
        "options": [
          null,
          "Academic Radiation Oncology Training and Equity...",
          "Acute Pain Management and Opioid Use in Cancer ...",
          "Advanced MRI Radiomics for Brain Metastases",
          "Advanced Nasopharyngeal Carcinoma Treatment Inn...",
          "Advanced Radiation Therapies in Lung Cancer",
          "Advanced Techniques in Cervical Cancer Brachyth...",
          "Advanced Techniques in Pancreatic Cancer Radiot...",
          "Advanced Techniques in Prostate Cancer Radiothe...",
          "Advanced Techniques in Proton Therapy.",
          "Advanced Techniques in Radiation Oncology",
          "Advanced Therapeutic Strategies in Glioblastoma...",
          "Advanced Therapies in Oropharyngeal Cancer",
          "Advanced Treatment Strategies for Esophageal Ca...",
          "Advanced Treatment Strategies in Gynecologic On...",
          "Bladder Cancer Radiation Therapy Advancements",
          "Breast Cancer Radiotherapy Innovations",
          "Breast Cancer Radiotherapy-Induced Skin Toxicit...",
          "Breast Tumor Contouring Excellence Workshop",
          "Bridging Radiotherapy for CAR-T Therapy in Aggr...",
          "Cancer Disparities in Health Outcomes",
          "Cardiac Radioablation for Ventricular Tachycardia",
          "Cardiac Toxicity in Radiation Oncology",
          "Cell-Free DNA Fragmentomics for Early Detection...",
          "Cutaneous Skin Cancer Radiotherapy Innovations",
          "Deep Learning Applications in Radiation Oncology",
          "Dose Rate Effects in Spatially Fractionated Rad...",
          "Dosimetric Impact of Rectal Spacers in Prostate...",
          "Financial Implications of Radiation Oncology Tr...",
          "Global Radiotherapy Access Disparities",
          "HPV-Driven Innovations in Radiation Oncology",
          "Hepatocellular Carcinoma Radiotherapy Innovations",
          "Hippocampal Avoidance Strategies in Brain Radio...",
          "Immunomodulatory Effects of Radiotherapy in Bre...",
          "Immunomodulatory Effects of Tumor Treating Fiel...",
          "Intratumoral Nerve Recruitment and Perineural I...",
          "Lymphedema Risk in Breast Cancer Radiotherapy",
          "Nanoparticle-Mediated Radiodynamic Therapy",
          "Neoadjuvant Strategies in Rectal Cancer.",
          "Patient Portal Messaging Trends in Radiation On...",
          "Patient-Centered Innovations in Radiation Oncology",
          "Pediatric Brain Metastases Stereotactic Radiosu...",
          "Pediatric Proton Therapy Outcomes",
          "Pediatric Unilateral Retinoblastoma Treatment O...",
          "Predictive Biomarkers in Radiation Oncology",
          "Predictive Radiomics for Lung Cancer Radiotherapy",
          "Predictive Radiomics in Radiation Oncology",
          "Proton Therapy Trial Diversity",
          "Radiation Oncology Quality Improvement and Safe...",
          "Radiation-Induced Cancer Therapy Innovations",
          "Radiation-Induced Cardiac Injury Mechanisms and...",
          "Radiation-Induced Lymphopenia Predictors in Bre...",
          "Renal Cell Carcinoma Stereotactic Innovations",
          "Spine Stereotactic Radiosurgery Outcomes",
          "Thyroid Cancer Radiotherapy Innovations",
          "Total Body Irradiation-Related Hematologic Toxi...",
          "Tumor Treating Fields (TTFields) Optimization i..."
        ]
      },
      "name": "Select",
      "select": {
        "fields": [
          "TopicName"
        ],
        "type": "point"
      }
    }
  ],
  "width": 1000
};
      vegaEmbed('#vis', spec, {
        actions: false,
        mode: 'vega-lite',
        controls_div: '#filter-controls'
      });
    </script>
    
</body>
</html>
